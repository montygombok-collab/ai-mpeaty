<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SHAHRAZAD ELECTRIC - Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="manifest" href="manifest.json">
  <link rel="icon" type="image/png" href="images/logo.png">
  
  <!-- Ù…ÙƒØªØ¨Ø§Øª Ø®Ø§Ø±Ø¬ÙŠØ© -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <!-- Firebase -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-analytics.js";
    
    const firebaseConfig = {
      apiKey: "AIzaSyBtc-pniRx5Mda5UW_kNqS0Zyi8zcKvdlU",
      authDomain: "shahrazad-electric.firebaseapp.com",
      projectId: "shahrazad-electric",
      storageBucket: "shahrazad-electric.firebasestorage.app",
      messagingSenderId: "582314926345",
      appId: "1:582314926345:web:39c2979beadd8b47a133d8",
      measurementId: "G-3RH0BKKW16"
    };

    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
  </script>
</head>

<body>
  <!-- Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
  <section id="login-section" class="auth-section">
    <div class="auth-container">
      <img src="images/logo.png" alt="Logo" class="logo">
      <h1>Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª - Ø´Ù‡Ø±Ø²Ø§Ø¯ Ø¥Ù„ÙƒØªØ±ÙŠÙƒ</h1>
      <input type="email" id="loginEmail" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" />
      <input type="password" id="loginPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" />
      <button id="loginBtn">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
      <p class="forgot">Ù‡Ù„ Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±ØŸ</p>
    </div>
  </section>

  <!-- ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù†Ø¸Ø§Ù… -->
  <section id="main-section" class="hidden">
    <header class="topbar">
      <h2>Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ <span id="userName"></span></h2>
      <button id="logoutBtn">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
    </header>

    <nav class="sidebar">
      <ul>
        <li data-section="dashboard" class="active">ğŸ“Š Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</li>
        <li data-section="products">ğŸ“¦ Ø§Ù„Ø£ØµÙ†Ø§Ù</li>
        <li data-section="warehouses">ğŸ­ Ø§Ù„Ù…Ø®Ø§Ø²Ù†</li>
        <li data-section="customers">ğŸ‘¨â€ğŸ’¼ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</li>
        <li data-section="invoices">ğŸ§¾ Ø§Ù„ÙÙˆØ§ØªÙŠØ±</li>
        <li data-section="alerts">âš ï¸ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª</li>
        <li data-section="settings">âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</li>
        <li data-section="backup">ğŸ’¾ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ</li>
      </ul>
    </nav>

    <main id="content">
      <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
      <section id="dashboard" class="content-section">
        <h3>Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</h3>
        <canvas id="salesChart"></canvas>
      </section>

      <!-- Ø§Ù„Ø£ØµÙ†Ø§Ù -->
      <section id="products" class="content-section hidden">
        <h3>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£ØµÙ†Ø§Ù</h3>
        <button id="addProductBtn">â• Ø¥Ø¶Ø§ÙØ© ØµÙ†Ù Ø¬Ø¯ÙŠØ¯</button>
        <div id="productsList"></div>
      </section>

      <!-- Ø§Ù„Ù…Ø®Ø§Ø²Ù† -->
      <section id="warehouses" class="content-section hidden">
        <h3>Ø§Ù„Ù…Ø®Ø§Ø²Ù†</h3>
        <div id="warehousesList"></div>
      </section>

      <!-- Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ -->
      <section id="customers" class="content-section hidden">
        <h3>Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h3>
        <div id="customersList"></div>
      </section>

      <!-- Ø§Ù„ÙÙˆØ§ØªÙŠØ± -->
      <section id="invoices" class="content-section hidden">
        <h3>Ø§Ù„ÙÙˆØ§ØªÙŠØ±</h3>
        <button id="newInvoiceBtn">ğŸ§¾ Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø©</button>
        <div id="invoicesList"></div>
      </section>

      <!-- Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª -->
      <section id="alerts" class="content-section hidden">
        <h3>Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª</h3>
        <div id="alertsList"></div>
      </section>

      <!-- Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª -->
      <section id="settings" class="content-section hidden">
        <h3>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</h3>
        <div>
          <button id="changePasswordBtn">ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</button>
          <button id="manageUsersBtn">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</button>
        </div>
      </section>

      <!-- Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ -->
      <section id="backup" class="content-section hidden">
        <h3>Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ</h3>
        <button id="backupBtn">ğŸ’¾ Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©</button>
      </section>
    </main>
  </section>

  <!-- Ø³ÙƒØ±ÙŠØ¨ØªØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù… -->
  <script type="module" src="js/app.js"></script>
  <script type="module" src="js/utils.js"></script>
  <script type="module" src="js/database.js"></script>
  <script type="module" src="js/products.js"></script>
  <script type="module" src="js/invoices.js"></script>
  <script type="module" src="js/assistant.js"></script>

  <!-- ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ -->
  <style>
    #assistant-btn {
      position: fixed;
      bottom: 20px;
      left: 20px;
      background: #004aad;
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 26px;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      z-index: 1000;
    }

    #assistant-chat {
      position: fixed;
      bottom: 90px;
      left: 20px;
      width: 320px;
      height: 420px;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
      display: none;
      flex-direction: column;
      overflow: hidden;
      z-index: 1000;
    }

    #assistant-chat.open { display: flex; }
    .chat-header {
      background: #004aad;
      color: #fff;
      padding: 10px;
      text-align: center;
      font-weight: bold;
    }
    .chat-messages {
      flex: 1;
      padding: 10px;
      overflow-y: auto;
      background: #f3f6fa;
    }
    .chat-input {
      display: flex;
      padding: 10px;
      gap: 5px;
      border-top: 1px solid #ddd;
      background: #fff;
    }
    .chat-input input {
      flex: 1;
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    .chat-input button {
      background: #004aad;
      color: #fff;
      border: none;
      padding: 8px 12px;
      border-radius: 6px;
      cursor: pointer;
    }
    .msg {
      margin: 5px 0;
      padding: 8px 10px;
      border-radius: 10px;
      max-width: 85%;
    }
    .msg.user {
      background: #d1e7ff;
      align-self: flex-end;
    }
    .msg.bot {
      background: #eee;
      align-self: flex-start;
    }
  </style>
</body>
</html>
